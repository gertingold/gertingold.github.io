<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Funktionen &mdash; Einführung in das Programmieren für Physiker und Materialwissenschaftler</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2017beta',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Einführung in das Programmieren für Physiker und Materialwissenschaftler" href="index.html" />
    <link rel="next" title="Zusammengesetzte Datentypen" href="sequenzen.html" />
    <link rel="prev" title="Kontrollstrukturen" href="kontrollstrukturen.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>Einführung in das Programmieren</span></a></h1>
        <h2 class="heading"><span>Funktionen</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="kontrollstrukturen.html">Kontrollstrukturen</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index_latex.html">Inhalt</a>
        &#160;&#160;::&#160;&#160;
        <a href="sequenzen.html">Zusammengesetzte Datentypen</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="funktionen">
<h1>Funktionen<a class="headerlink" href="#funktionen" title="Permalink zu dieser Überschrift">¶</a></h1>
<p>Funktionen im mathematischen Sinne sind uns in Physik und
Materialwissenschaften wohlbekannt. Dass solche Funktionen auch von
Programmiersprachen zur Verfügung gestellt werden, haben wir z.B. im Abschnitt
<a class="reference internal" href="datentypen.html#mathfunc"><em>Funktionen für reelle Zahlen</em></a> gesehen. Allerdings ist der Begriff der Funktionen in
Programmiersprachen wesentlich weiter gefasst. So muss eine Funktion nicht
unbedingt ein Argument besitzen, und sie muss auch nicht unbedingt einen Wert
zurückgeben. In manchen Sprachen wird nach diesem letzten Kriterium
unterschieden. So kennt FORTRAN <em>functions</em>, die ein Resultat zurückgeben, und
<em>subroutines</em>, die dies nicht tun.</p>
<p>Wozu sind Funktionen gut, wenn man einmal davon absieht, dass Funktionen dem
Naturwissenschaftler vertraut sind? Funktionen eignen sich vor allem dazu,
Programmcode, der sonst im Programm mehrfach auftreten würde, an einer einzigen
Stelle unterzubringen. Wählt man geeignete Funktionsnamen, so kann dies zum
einen die Lesbarkeit des Codes deutlich steigern. Zum andern verbessert sich
auch die Wartbarkeit erheblich, da Korrekturen nur an einer Stelle vorgenommen
werden müssen. Andernfalls muss man auf eine konsistente Korrektur des Programms
an verschiedenen Stellen achten. Stellt man also beim Programmieren fest, dass
sich Code wiederholt, so sollte man sich überlegen, ob es nicht sinnvoll wäre,
für die betreffende Aufgabe eine Funktion zu definieren. Auch ähnliche Aufgaben
kann man in einer Funktion unterbringen, wenn man geeignete Funktionsargumente
einführt. Es hilft, wenn man sich beim Programmieren immer daran erinnert,
sich nicht unnötig zu wiederholen. <a class="footnote-reference" href="#oaoo" id="id1">[1]</a> Schließlich ist die Verwendung
von Funktionen auch dann angebracht, wenn man die gleiche Funktionalität in
verschiedenen Programmen benötigt. Man kann solche Funktionen in einem Modul
sammeln und dann bei Bedarf importieren, wie wir es schon mit dem <tt class="docutils literal"><span class="pre">math</span></tt>-Modul
und den darin enthaltenen Funktionen getan haben.</p>
<div class="section" id="funktionsdefinitionen">
<span id="funcdef"></span><h2>Funktionsdefinitionen<a class="headerlink" href="#funktionsdefinitionen" title="Permalink zu dieser Überschrift">¶</a></h2>
<p>Betrachten wir zunächst eine Funktion, die weder ein Argument besitzt noch
Daten zurückgibt. <a class="footnote-reference" href="#returnnone" id="id2">[2]</a></p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;in der Funktion f&quot;</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">&quot;** Anfang&quot;</span><span class="p">)</span>
<span class="n">f</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;** Ende&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Hier wird in den Zeilen 1 und 2 eine Funktion definiert. In der ersten Zeile
der Definition steht dabei zunächst das Schlüsselwort <tt class="docutils literal"><span class="pre">def</span></tt>. Dann folgt der
Funktionsname, der im Rahmen der auch für Variablen geltenden Regeln gewählt
werden kann. Das anschließende Klammerpaar ist hier leer, weil keine Argumente
übergeben werden. Andernfalls sind hier die Funktionsargumente aufzuführen.
Auf das Klammerpaar kann in Python in keinem Fall verzichtet werden.  Die Zeile
muss mit einem Doppelpunkt enden. Der Inhalt der Funktionsdefinition ergibt
sich wie immer in Python aus der Einrückung. Die nicht mehr eingerückte Zeile 4
gehört somit nicht mehr zur Funktionsdefinition. Die leere Zeile 3 spielt bei
der Interpretation des Codes keine Rolle, sondern dient nur der
Übersichtlichkeit.</p>
<p>Wenn der Pythoninterpreter dieses Beispielprogramm ausführt, wird zunächst die
Funktion <tt class="docutils literal"><span class="pre">f</span></tt> definiert. Dabei wird jedoch noch nicht der darin enthaltene
Code ausgeführt. Ab Zeile 4 werden dann die Anweisung ausgeführt. die Anweisung
in Zeile 5 weist den Interpreter an, den Funktionscode, hier die Zeile 2, auszuführen.
Anschließend wird mit der Abarbeitung des Programms in Zeile 6 fortgefahren.
Entsprechend lautet die Ausgabe dieses Programms</p>
<div class="highlight-python"><div class="highlight"><pre>** Anfang
in der Funktion f
** Ende
</pre></div>
</div>
<p>Einer Funktion können auch ein oder mehrere Argumente übergeben werden. Sehen
wir uns wieder ein einfaches Beispiel an.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;Das Quadrat von {} ist {}.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>

<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>In den Zeilen 1 und 2 wird die Funktion <tt class="docutils literal"><span class="pre">f</span></tt> definiert, deren Aufgabe darin
besteht, das Quadrat des Arguments <tt class="docutils literal"><span class="pre">k</span></tt> zu bestimmen und in geeigneter Weise
auszugeben. In den Zeilen 4 und 5 wird diese Funktion dann in einer Schleife dreimal
mit folgendem Ergebnis ausgeführt:</p>
<div class="highlight-python"><div class="highlight"><pre>Das Quadrat von 0 ist 0.
Das Quadrat von 1 ist 1.
Das Quadrat von 2 ist 4.
</pre></div>
</div>
<p>Alternativ könnte man die Funktion den Funktionswert berechnen und an den aufrufenden
Programmteil zurückgeben lassen. Die gleiche Ausgabe lässt sich also auch folgendermaßen
erhalten:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
    <span class="n">ergebnis</span> <span class="o">=</span> <span class="n">k</span><span class="o">**</span><span class="mi">2</span>
    <span class="k">return</span> <span class="n">ergebnis</span>

<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;Das Quadrat von {} ist {}.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span>
</pre></div>
</div>
<p>Im Gegensatz zu einigen anderen Programmiersprachen ist die <tt class="docutils literal"><span class="pre">return</span></tt>-Anweisung
nicht erforderlich, um das Ende der Funktionsanweisung zu kennzeichnen. Dies
geschieht in Python ausschließlich mit Hilfe der Einrückung. Die
<tt class="docutils literal"><span class="pre">return</span></tt>-Anweisung wird jedoch benötigt, um Ergebnisse an den aufrufenden
Code zurückzugeben. Die gerade vorgestellte Funktionsdefinition kann noch
kompakter gestaltet werden, da die <tt class="docutils literal"><span class="pre">return</span></tt>-Anweisung nicht nur eine
Variable, sondern einen ganzen Ausdruck enthalten kann:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">k</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<p>Bei Bedarf kann eine Funktion auch mehrere <tt class="docutils literal"><span class="pre">return</span></tt>-Anweisungen enthalten, wie in
dem folgenden Beispiel. Die Funktion <tt class="xref py py-func docutils literal"><span class="pre">is_prime()</span></tt> soll feststellen, ob es sich
bei der Integer-Variable <tt class="docutils literal"><span class="pre">n</span></tt> um eine Primzahl handelt.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">is_prime</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">divisor</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="n">divisor</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="bp">True</span>

<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">is_prime</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="_images/question.png"><img alt="frage" src="_images/question.png" style="height: 1em;" /></a> Der hier vorgestellte Primzahltest ist nicht sonderlich effizient. Wie könnte
man ihn verbessern?</p>
<p>Funktionen können auch mehr als ein Argument besitzen und mehr als einen Wert zurückgeben
wie folgendes Beispiel zeigt:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">vektorfeld</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="o">-</span><span class="n">y</span>
    <span class="n">ay</span> <span class="o">=</span> <span class="n">x</span>
    <span class="k">return</span> <span class="n">ax</span><span class="p">,</span> <span class="n">ay</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
        <span class="n">vx</span><span class="p">,</span> <span class="n">vy</span> <span class="o">=</span> <span class="n">vektorfeld</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;({:2},{:2}) -&gt; ({:2},{:2})&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">))</span>
</pre></div>
</div>
<p>Wichtig ist, dass die Zuordnung durch die Position der jeweiligen Variablen erfolgt, nicht
durch deren Namen. Es gibt allerdings auch die Möglichkeit einer namensbasierten Übergabe
der Argumente, die wir im Abschnitt <a class="reference internal" href="#funckeywords"><em>Schlüsselworte und Defaultwerte</em></a> kennenlernen werden.</p>
<p><a class="reference internal" href="_images/weiterfuehrend.png"><img alt="weiterfuehrend" src="_images/weiterfuehrend.png" style="height: 1em;" /></a> Eine Funktionsdefinition kommt nicht ohne einen Codeblock aus, der auf
die mit <tt class="docutils literal"><span class="pre">def</span></tt> beginnende Deklarationszeile folgt. Gelegentlich möchte man beim Entwickeln
eines Programms bereits die zu erstellenden Funktionen notieren, ohne die entsprechende
Funktionalität gleich zu implementieren. Um dennoch schon zu diesem Zeitpunkt ein syntaktisch
korrektes Programm zu haben, kann man den Befehl <tt class="docutils literal"><span class="pre">pass</span></tt> verwenden, der lediglich dazu
dient, den benötigten Codeblock bereitzustellen. <tt class="docutils literal"><span class="pre">pass</span></tt> hat ansonsten keinerlei Auswirkungen
auf den Programmablauf.</p>
<p><a class="reference internal" href="_images/weiterfuehrend.png"><img alt="weiterfuehrend" src="_images/weiterfuehrend.png" style="height: 1em;" /></a> Auch wenn eine Funktion keine <tt class="docutils literal"><span class="pre">return</span></tt>-Anweisung
enthält, wird ein Wert zurückgegeben, nämlich <tt class="docutils literal"><span class="pre">None</span></tt> wie folgendes
einfache Beispiel zeigt.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="p">())</span>
<span class="go">None</span>
</pre></div>
</div>
<p>Gelegentlich kann es vorkommen, dass man sich über diese unerwartete
Rückgabe wundert. Grund hierfür ist dann häufig eine vergessene
<tt class="docutils literal"><span class="pre">return</span></tt>-Anweisung.</p>
</div>
<div class="section" id="dokumentation-von-funktionen">
<span id="funcdoc"></span><h2>Dokumentation von Funktionen<a class="headerlink" href="#dokumentation-von-funktionen" title="Permalink zu dieser Überschrift">¶</a></h2>
<p>Wie generell beim Programmieren ist es auch in Funktionen sinnvoll, an eine ausreichende
Dokumentation zu denken. Dies könnte mit Hilfe von Kommentaren erfolgen, die mit einem
<tt class="docutils literal"><span class="pre">#</span></tt> eingeleitet werden. In Python gibt es für Funktionen jedoch eine geeignetere Art der
Dokumentation, nämlich einen Dokumentationsstring, der direkt auf die erste Zeile der
Funktionsdefinition folgt. Das könnte beispielsweise folgendermaßen aussehen:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>

<span class="k">def</span> <span class="nf">mitternacht</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Berechne die beiden Lösungen einer quadratischen Gleichung</span>
<span class="sd">    ax^2+bx+c=0.</span>

<span class="sd">    Es wird die Mitternachtsformel verwendet.</span>
<span class="sd">    Achtung: Es wird stillschweigend vorausgesetzt, dass b^2-4ac&gt;0.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">diskriminante</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">b</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="n">a</span><span class="o">*</span><span class="n">c</span><span class="p">)</span>
    <span class="n">root1</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">b</span><span class="o">+</span><span class="n">diskriminante</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>
    <span class="n">root2</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">b</span><span class="o">-</span><span class="n">diskriminante</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">root1</span><span class="p">,</span> <span class="n">root2</span>
</pre></div>
</div>
<p>Der Dokumentationsstring wird hier nicht nur mit einem, sondern mit drei
Anführungszeichen begrenzt, da er dann über mehrere Zeilen gehen kann. Der
Vorteil dieser Dokumentationsweise besteht darin, dass dieser
Dokumentationstext mit dem Befehl <tt class="docutils literal"><span class="pre">help(mitternacht)</span></tt> ausgegeben werden kann,
wie wir im Abschnitt <a class="reference internal" href="datentypen.html#float"><em>Gleitkommazahlen</em></a> schon gesehen hatten, wo <tt class="docutils literal"><span class="pre">help(math)</span></tt> die
Dokumentation für das Modul <tt class="docutils literal"><span class="pre">math</span></tt> ausgab.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">mitternacht</span><span class="p">)</span>

<span class="go">Help on function mitternacht in module __main__:</span>

<span class="go">mitternacht(a, b, c)</span>
<span class="go">    Berechne die beiden Lösungen einer quadratischen Gleichung ax^2+bx+c=0.</span>

<span class="go">    Es wird die Mitternachtsformel verwendet.</span>
<span class="go">    Achtung: Es wird stillschweigend vorausgesetzt, dass b^2-4ac&gt;0.</span>
</pre></div>
</div>
<p>Weitere Hinweise zu Dokumentationsstrings sind in <span class="target" id="index-0"></span><a class="pep reference external" href="http://www.python.org/dev/peps/pep-0257"><strong>PEP 257</strong></a> zu finden.</p>
</div>
<div class="section" id="lokale-und-globale-variable">
<span id="lokalglobal"></span><h2>Lokale und globale Variable<a class="headerlink" href="#lokale-und-globale-variable" title="Permalink zu dieser Überschrift">¶</a></h2>
<p>Dem letzten Beispiel im Abschnitt <a class="reference internal" href="#funcdef"><em>Funktionsdefinitionen</em></a> kann man entnehmen, dass die
Benennung der zurückzugebenden Variablen in der Funktionsdefinition (<tt class="docutils literal"><span class="pre">ax,ay</span></tt>)
und in der Anweisung, die den Funktionsaufruf enthält, (<tt class="docutils literal"><span class="pre">vx,vy</span></tt>)  nicht
identisch sein muss. Gleiches gilt auch für die Argumente, die der Funktion
übergeben werden. Daraus folgt unter anderem, dass die Reihenfolge der
Argumente in der Funktionsdefinition und im Funktionsaufruf übereinstimmen
müssen. Hier hilft es auch nicht, die gleichen Variablennamen zu verwenden, wie
aus den folgenden Überlegungen deutlich wird. Will man die Argumente in einer
willkürlichen Reihenfolge verwenden, so muss man Schlüsselworte verwenden, wie
im Abschnitt <a class="reference internal" href="#funckeywords"><em>Schlüsselworte und Defaultwerte</em></a> genauer erklärt wird.</p>
<p>Wie verhält es sich nun mit Variablennamen, die sowohl in der Funktionsdefinition als auch
im Hauptprogramm vorkommen? Betrachten wir dazu ein Beispiel</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;lokale Variable: &quot;</span><span class="p">,</span> <span class="nb">locals</span><span class="p">())</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;globale Variable:&quot;</span><span class="p">,</span> <span class="nb">globals</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span>

<span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">2</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;f(3) =&quot;</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;x =&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>das die folgende Ausgabe produziert:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">lokale</span> <span class="n">Variable</span><span class="p">:</span>  <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="n">globale</span> <span class="n">Variable</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;f&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">function</span> <span class="n">f</span> <span class="n">at</span> <span class="mh">0xb7e42ed4</span><span class="o">&gt;</span><span class="p">,</span>
                   <span class="s">&#39;__builtins__&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">module</span> <span class="s">&#39;__builtin__&#39;</span> <span class="p">(</span><span class="n">built</span><span class="o">-</span><span class="ow">in</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span>
                   <span class="s">&#39;__file__&#39;</span><span class="p">:</span> <span class="s">&#39;test.py&#39;</span><span class="p">,</span>
                   <span class="s">&#39;__package__&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                   <span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
                   <span class="s">&#39;y&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                   <span class="s">&#39;__name__&#39;</span><span class="p">:</span> <span class="s">&#39;__main__&#39;</span><span class="p">,</span>
                   <span class="s">&#39;__doc__&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">}</span>
<span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>
</div>
<p>In Python kann man sich mit Hilfe der eingebauten Funktionen <tt class="xref py py-func docutils literal"><span class="pre">globals()</span></tt> und
<tt class="xref py py-func docutils literal"><span class="pre">locals()</span></tt> die globalen bzw. lokalen Variablen ausgeben lassen, die die Funktion
sieht. Die Variable <tt class="docutils literal"><span class="pre">x</span></tt> kommt dabei sowohl im lokalen als auch im globalen Kontext
vor. Die lokale Variable <tt class="docutils literal"><span class="pre">x</span></tt> wird zu Beginn der Abarbeitung der Funktion generiert
und gemäß Zeile 9 mit dem Wert 3 belegt. Nach dem Inkrementieren in Zeile 2 ergibt
sich der in <tt class="xref py py-func docutils literal"><span class="pre">locals()</span></tt> angegebene Wert von 4. Gleichzeitig hat <tt class="docutils literal"><span class="pre">x</span></tt> im globalen
Kontext den Wert 5.</p>
<p>Wird auf eine Variable zugegriffen, so sucht Python zunächst in den lokalen
Variablen, dann in den globalen Variablen und zuletzt in den eingebauten
Pythonfunktionen. Für die Variable <tt class="docutils literal"><span class="pre">x</span></tt> hat dies in der Funktion zur Folge, dass
die lokale Variable gemeint ist. So verändert das Inkrementieren in Zeile 2 auch
nicht den Wert der globalen Variable <tt class="docutils literal"><span class="pre">x</span></tt>. Nachdem die Variable <tt class="docutils literal"><span class="pre">y</span></tt> nicht in den
lokalen Variablen vorkommt, greift Python in Zeile 5 auf die globale Variable mit
dem Wert 2 aus Zeile 8 zurück. Innerhalb der Funktion ist es nicht möglich, globale
Variable zu verändern, was in den meisten Fällen auch nicht erwünscht sein dürfte.
Eine wichtige Ausnahme hiervon sind Listen. Den Grund hierfür werden wir in Kapitel
<a class="reference internal" href="sequenzen.html#listen"><em>Listen</em></a> besser verstehen.</p>
<p>Greift man beim Programmieren in einer Funktion auf eine globale Variable
zurück, so sollte man sich immer überlegen, ob es nicht günstiger ist, der
Funktion diese Variable als Argument zu übergeben. Dies führt zwar zu
aufwendigeren Funktionsaufrufen, hilft aber, bei Änderungen im aufrufenden
Programmcode Fehler in der Funktion zu vermeiden. Solche Fehler können leicht
dadurch entstehen, dass man die Verwendung der globalen Variable in der Funktion
übersieht. Will man überlange Argumentlisten vermeiden, so können auch Techniken
von Nutzen sein, die wir im Kapitel <a class="reference internal" href="objektorientiert.html#oop"><em>Objektorientiertes Programmieren</em></a> besprechen werden.</p>
</div>
<div class="section" id="rekursive-funktionen">
<h2>Rekursive Funktionen<a class="headerlink" href="#rekursive-funktionen" title="Permalink zu dieser Überschrift">¶</a></h2>
<p>Um die Verwendung von rekursiven Funktionen zu illustrieren, betrachten wir die
Berechnung der Fakultät <tt class="docutils literal"><span class="pre">n!</span></tt>, die man durch Auswertung des Produkts <tt class="docutils literal"><span class="pre">1·2·</span></tt>
… <tt class="docutils literal"><span class="pre">·(n-1)·n</span></tt> erhält. Der folgende Code stellt eine direkte Umsetzung
dieser Vorschrift dar:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">fakultaet</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">produkt</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="n">produkt</span> <span class="o">=</span> <span class="n">produkt</span><span class="o">*</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">produkt</span>

<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">fakultaet</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p>Alternativ lässt sich die Fakultät auch rekursiv definieren. Mit Hilfe der Beziehung
<tt class="docutils literal"><span class="pre">n!=(n-1)!·n</span></tt> lässt sich die Fakultät von <tt class="docutils literal"><span class="pre">n</span></tt> auf die Fakultät von <tt class="docutils literal"><span class="pre">n-1</span></tt>
zurückführen. Wenn man nun noch verwendet, dass <tt class="docutils literal"><span class="pre">0!=1</span></tt> ist, kann man die
Fakultät rekursiv bestimmen, wie der folgende Code zeigt:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">fakultaet_rekursiv</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">n</span><span class="o">*</span><span class="n">fakultaet_rekursiv</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">n</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;Argument darf nicht negativ sein&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">fakultaet_rekursiv</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p>Hier wird nun in der Funktion wiederum die Funktion selbst aufgerufen, was
nicht in jeder Programmiersprache erlaubt ist. Der Vorteil einer rekursiven
Funktion ist häufig die unmittelbare Umsetzung einer Berechnungsvorschrift.
Allerdings muss darauf geachtet werden, dass die Aufrufserie irgendwann beendet
wird. Ist dies nicht der Fall, könnte das Programm nicht zu einem Ende kommen
und, da Funktionsaufrufe auch Speicherplatz erfordern, immer mehr Speicher
belegen. Über kurz oder lang wird das Betriebssystem dann das Programm beenden,
wenn nicht gar der Computer abstürzt und neu gestartet werden muss. Daher ist
in der Praxis die Zahl der rekursiven Aufrufe begrenzt. In Python lässt sich
diese Zahl in folgender Weise bestimmen:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">getrecursionlimit</span><span class="p">()</span>
<span class="go">1000</span>
</pre></div>
</div>
<p>Mit <tt class="docutils literal"><span class="pre">setrecursionlimit(n)</span></tt> lässt sich mit einer natürlichen Zahl <tt class="docutils literal"><span class="pre">n</span></tt>
als Argument notfalls die Rekursionstiefe verändern, was jedoch sicher
kein Ausweg ist, wenn die rekursive Programmierung fehlerhaft durchgeführt
wurde.</p>
</div>
<div class="section" id="funktionen-als-argumente-von-funktionen">
<span id="funcarg"></span><h2>Funktionen als Argumente von Funktionen<a class="headerlink" href="#funktionen-als-argumente-von-funktionen" title="Permalink zu dieser Überschrift">¶</a></h2>
<p>In Python können, im Gegensatz zu vielen anderen Programmiersprachen, Funktionen
Variablen zugewiesen oder als Argumente von anderen Funktionen verwendet werden.
Folgendes Beispiel illustriert dies:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funktion</span> <span class="o">=</span> <span class="n">sin</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">funktion</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">sin</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">0.841470984808 0.841470984808</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="p">[</span><span class="n">sin</span><span class="p">,</span> <span class="n">cos</span><span class="p">]:</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="s">&quot;{}: {:.6f}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span>
<span class="gp">...</span>
<span class="go">sin: 0.841471</span>
<span class="go">cos: 0.540302</span>
</pre></div>
</td></tr></table></div>
<p>In Zeile 2 wird die Funktion <tt class="docutils literal"><span class="pre">sin</span></tt> der Variable <tt class="docutils literal"><span class="pre">funktion</span></tt>, die natürlich
im Rahmen der Regeln für die Benennung von Variablen auch anders heißen könnte,
zugewiesen. Statt der Funktion <tt class="docutils literal"><span class="pre">sin</span></tt> könnte hier auch eine selbst definierte
Funktion stehen. Zu beachten ist, dass der Funktion auf der rechten Seite kein
Argument mitgegeben wird. Aus den Zeilen 3 und 4 wird deutlich, dass nach der
Zuweisung in Zeile 2 auch die Variable <tt class="docutils literal"><span class="pre">funktion</span></tt> verwendet werden kann, um den
Sinus zu berechnen. Eine mögliche Anwendung ist in den Zeilen 5 und 6 angedeutet,
wo eine Schleife über zwei Funktionen ausgeführt wird. Zeile 6 zeigt zudem,
dass das Attribut <tt class="docutils literal"><span class="pre">__name__</span></tt> des Funktionsobjekts den entsprechenden
Funktionsnamen angibt.</p>
<p>Interessant ist auch die Möglichkeit, Funktionen als Argumente zu übergeben.
Wenn zum Beispiel die Ableitung einer mathematischen Funktion numerisch
bestimmt werden soll, kann man für jede spezielle mathematische Funktion, die
abgeleitet werden soll, eine entsprechende Ableitungsfunktion definieren.
Viel besser ist es natürlich, dies nur einmal für eine beliebige mathematische
Funktion zu tun. Eine mögliche Lösung könnte folgendermaßen aussehen:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sin</span>

<span class="k">def</span> <span class="nf">ableitung</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
    <span class="n">h</span> <span class="o">=</span> <span class="mf">1e-7</span>
    <span class="n">df</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">h</span><span class="p">)</span><span class="o">-</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">h</span><span class="p">))</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">h</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="k">print</span><span class="p">(</span><span class="n">ableitung</span><span class="p">(</span><span class="n">sin</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p>Natürlich ist dieser Code verbesserungsbedürftig. Er sollte unter anderem
ordentlich dokumentiert werden, und man müsste sich Gedanken über die
Überprüfung der Konvergenz des Grenzwertes <tt class="docutils literal"><span class="pre">h</span></tt>→0 machen. Unabhängig davon
kann der Ableitungscode in den Zeilen 3-6 aber für beliebige abzuleitende
mathematische Funktionen aufgerufen werden.  Jede Verbesserung dieses Codes
würde damit nicht nur der Ableitung einer speziellen mathematischen Funktion
zugute kommen, sondern potentiell jeder numerischen Ableitung einer
mathematischen Funktion mit Hilfe dieses Codes.</p>
</div>
<div class="section" id="lambda-funktionen">
<span id="lambdafunktionen"></span><h2>Lambda-Funktionen<a class="headerlink" href="#lambda-funktionen" title="Permalink zu dieser Überschrift">¶</a></h2>
<p>In Abschnitt <a class="reference internal" href="#funcdef"><em>Funktionsdefinitionen</em></a> hatten wir ein Beispiel gesehen, in dem die
Berechnung der Funktion vollständig in der <tt class="docutils literal"><span class="pre">return</span></tt>-Anweisung untergebracht
war. Solche Funktionen kommen relativ häufig vor und können mit Hilfe so
genannter Lambda-Funktionen in einer einzigen Zeile deklariert werden:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">quadrat</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">quadrat</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">9</span>
</pre></div>
</td></tr></table></div>
<p>Der Variablenname auf der linken Seite in Zeile 1 fungiert im Weiteren als
Funktionsname so wie wir es schon im Abschnitt <a class="reference internal" href="#funcarg"><em>Funktionen als Argumente von Funktionen</em></a> kennengelernt
hatten. <tt class="docutils literal"><span class="pre">lambda</span></tt> ist ein Schlüsselwort <a class="footnote-reference" href="#keywordverweis" id="id3">[3]</a>, das die Definition einer
Lambda-Funktion andeutet. Darauf folgt ein Funktionsargument, hier <tt class="docutils literal"><span class="pre">x</span></tt>, oder
auch mehrere, durch Komma getrennte Argumente und schließlich nach dem Doppelpunkt
die Funktionsdefinition.</p>
<p>Solche Funktionsdefinitionen sind sehr praktisch, wenn man eine Funktion als
Argument in einem Funktionsaufruf übergeben möchte, aber auf die explizite
Definition der Funktion verzichten will. Die im Abschnitt <a class="reference internal" href="#funcarg"><em>Funktionen als Argumente von Funktionen</em></a>
definierte Ableitungsfunktion könnte beispielsweise folgendermaßen aufgerufen
werden:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">ableitung</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
    <span class="n">h</span> <span class="o">=</span> <span class="mf">1e-7</span>
    <span class="n">df</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">h</span><span class="p">)</span><span class="o">-</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">h</span><span class="p">))</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">h</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="k">print</span><span class="p">(</span><span class="n">ableitung</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p>Von Rundungsfehlern abgesehen liefert dies das korrekte Ergebnis <tt class="docutils literal"><span class="pre">3</span></tt>. In
diesem Fall musste man sich nicht einmal Gedanken darüber machen, wie man die
Funktion benennen will.</p>
</div>
<div class="section" id="schlusselworte-und-defaultwerte">
<span id="funckeywords"></span><h2>Schlüsselworte und Defaultwerte<a class="headerlink" href="#schlusselworte-und-defaultwerte" title="Permalink zu dieser Überschrift">¶</a></h2>
<p>Bis jetzt sind wir davon ausgegangen, dass die Zahl der Argumente in der
Funktionsdefinition und im Funktionsaufruf übereinstimmen und die Argumente
auch die gleiche Reihenfolge haben. Dies ist nicht immer praktisch. Man kann
sich vorstellen, dass die Zahl der Argumente nicht im Vorhinein feststeht. Es
sind auch optionale Argumente denkbar, die, sofern sie nicht explizit im Aufruf
angegeben werden, auf einen bestimmten Wert, den so genannten Defaultwert,
gesetzt werden. Schließlich ist es vor allem bei längeren Argumentlisten
praktisch, wenn die Reihenfolge der Argumente nicht zwingend vorgeschrieben ist.</p>
<p>Wir wollen uns zunächst die Verwendung von Schlüsselworten und Defaultwerten
ansehen und ziehen hierzu wiederum die bereits bekannte Funktion zur numerischen
Auswertung von Ableitungen mathematischer Funktionen heran:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">ableitung</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
    <span class="n">h</span> <span class="o">=</span> <span class="mf">1e-7</span>
    <span class="n">df</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">h</span><span class="p">)</span><span class="o">-</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">h</span><span class="p">))</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">h</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</pre></div>
</div>
<p>Zu Beginn des Abschnitts <a class="reference internal" href="#lokalglobal"><em>Lokale und globale Variable</em></a> hatten wir erklärt, dass die
Variablen im Funktionsaufruf nicht genauso benannt werden müssen wie in der
Funktionsdefinition, und es somit auf die Reihenfolge der Argumente ankommt.
Kennt man die in der Funktionsdefinition verwendeten Variablennamen, so kann
man diese auch als Schlüsselworte verwenden. In diesem Fall kommt es dann nicht
mehr auf die Reihenfolge an. Statt</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="n">ableitung</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<p>könnte man auch den Aufruf</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="n">ableitung</span><span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<p>oder</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="n">ableitung</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<p>verwenden, wobei das Schlüsselwort <tt class="docutils literal"><span class="pre">x</span></tt> nichts mit dem in der Definition der
Lambda-Funktion auftretenden <tt class="docutils literal"><span class="pre">x</span></tt> zu tun hat. Dass es wichtig ist,
verschiedene Bezeichner zu unterscheiden, macht auch die folgende Erweiterung
dieses Aufrufs deutlich.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="n">ableitung</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<p>Hier ist im ersten Argument zwischen dem Schlüsselwort <tt class="docutils literal"><span class="pre">x</span></tt>, also dem ersten
<tt class="docutils literal"><span class="pre">x</span></tt> im ersten Argument, und der Variable <tt class="docutils literal"><span class="pre">x</span></tt>, dem zweiten <tt class="docutils literal"><span class="pre">x</span></tt> im ersten
Argument, zu unterscheiden. Nachdem der Variable <tt class="docutils literal"><span class="pre">x</span></tt> zuvor der Wert <tt class="docutils literal"><span class="pre">1</span></tt>
zugewiesen wurde, wird also im ersten Argument der Funktion <tt class="xref py py-func docutils literal"><span class="pre">ableitung()</span></tt>
der Wert <tt class="docutils literal"><span class="pre">1</span></tt> für die lokale Variable <tt class="docutils literal"><span class="pre">x</span></tt> übergeben. Die Variable <tt class="docutils literal"><span class="pre">x</span></tt> in
der Lambdafunktion wiederum hat weder mit dem einen noch mit dem anderen <tt class="docutils literal"><span class="pre">x</span></tt>
im ersten Argument etwas zu tun.</p>
<p>Hat man eine längere Argumentliste und übergibt man manche Argumente ohne und
andere Argumente mit Schlüsselwort, so müssen die Argumente ohne Schlüsselwort
zwingend vor den Argumenten mit Schlüsselwort stehen. Die Argumente ohne
Schlüsselwort werden dann nach ihrer Reihenfolge beginnend mit dem ersten
Argument zugeordnet, die anderen Argumente werden gemäß dem verwendeten
Schlüsselwort übergeben.</p>
<p>Wenn wir dem Benutzer in unserer Ableitungsfunktion die Möglichkeit geben wollen,
die Schrittweite bei Bedarf anzupassen, dies aber nicht unbedingt verlangen wollen,
können wir einen Defaultwert vorgeben. Dies könnte folgendermaßen aussehen:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">ableitung</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mf">1e-7</span><span class="p">):</span>
    <span class="n">df</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">h</span><span class="p">)</span><span class="o">-</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">h</span><span class="p">))</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">h</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</pre></div>
</div>
<p>Der Aufruf</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="n">ableitung</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1e-3</span><span class="p">))</span>
</pre></div>
</div>
<p>würde die Ableitung der dritten Potenz an der Stelle <tt class="docutils literal"><span class="pre">1</span></tt> auswerten, wobei die
Schrittweite gleich <tt class="docutils literal"><span class="pre">0.001</span></tt> gewählt ist. Mit dem Aufruf</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="n">ableitung</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<p>wird dagegen der Defaultwert für <tt class="docutils literal"><span class="pre">h</span></tt> aus der Funktionsdefinition, also
10<sup>-7</sup>, verwendet. Nach dem
was wir weiter oben gesagt haben, würden die Argumente des Aufrufs</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="n">ableitung</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<p>folgendermaßen interpretiert werden: Das erste Argument trägt keinen
Variablennamen und wird demnach der ersten Variablen, also <tt class="docutils literal"><span class="pre">f</span></tt>, in der
Funktionsdefinition zugeordnet. Anschließend kommen mit Schlüsselworten
versehene Argumente, bei denen es jetzt nicht mehr auf die Reihenfolge ankommt.
Tatsächlich ist die Reihenfolge im angegebenen Aufruf gegenüber der
Funktionsdefinition vertauscht.  Nach dem ersten Argument mit Schüsselwort
müssen alle folgenden Argumente mit einem Schlüsselwort versehen sein, was hier
in der Tat der Fall ist. Andernfalls liegt, wie im folgenden Beispiel, ein
Syntaxfehler vor.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="n">ableitung</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

  <span class="n">File</span> <span class="s">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">SyntaxError</span><span class="p">:</span> <span class="n">non</span><span class="o">-</span><span class="n">keyword</span> <span class="n">arg</span> <span class="n">after</span> <span class="n">keyword</span> <span class="n">arg</span>
</pre></div>
</div>
<p>Neben den besprochenen Möglichkeiten kann man in Python auch noch eine nicht durch
die Funktionsdefinition festgelegte Zahl von Variablen übergeben, wobei auch
Schlüsselworte vorkommen können, die nicht in der Variablenliste der Funktionsdefinition
zu finden sind. Auf diese Art der Argumentübergabe werden wir im Kapitel <a class="reference internal" href="sequenzen.html#dictionaries"><em>Dictionaries</em></a>
zurückkommen, da wir erst dort den hierzu benötigten Datentyp kennenlernen werden.</p>
<table class="docutils footnote" frame="void" id="oaoo" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Dies ist das <a class="reference external" href="http://c2.com/cgi/wiki?OnceAndOnlyOnce">OAOO-Prinzip</a>:
once and only once.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="returnnone" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>Genau genommen hat auch eine solche Funktion einen
Rückgabewert, nämlich <tt class="docutils literal"><span class="pre">None</span></tt>. Dies lässt sich überprüfen, indem man den
Rückgabewert mit <tt class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">f()</span></tt> einer Variablen zuweist und diese anschließend
ausdrucken lässt.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="keywordverweis" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td>Siehe hierzu Abschnitt <a class="reference internal" href="datentypen.html#variablen"><em>Variablen und Zuweisungen</em></a>.</td></tr>
</tbody>
</table>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="kontrollstrukturen.html">Kontrollstrukturen</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index_latex.html">Inhalt</a>
        &#160;&#160;::&#160;&#160;
        <a href="sequenzen.html">Zusammengesetzte Datentypen</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2010-2017, Gert-Ludwig Ingold, Lizenz: CC BY 4.0 International.
      Mit <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3 erstellt.
    </div>
  </body>
</html>